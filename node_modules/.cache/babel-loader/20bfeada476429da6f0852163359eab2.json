{"ast":null,"code":"var _jsxFileName = \"/Users/fhj/Desktop/github-pr/ms-/xilan/src/components/Menu/subMenu.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from \"react\";\nimport classNames from \"classnames\";\nimport { MenuContext } from \"./menu\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SubMenu = props => {\n  _s();\n\n  const {\n    index,\n    title,\n    className,\n    children\n  } = props; //useState\n\n  const [menuOpen, setOpen] = useState(false);\n  const context = useContext(MenuContext);\n  const classes = classNames('menu-item submenu-item', className, {\n    'is-active': context.index === index\n  }); //handleClick\n\n  const handleClick = e => {\n    e.preventDefault();\n    setOpen(!menuOpen);\n  }; // 展开函数\n\n\n  const renderChildren = () => {\n    const subMenuClasses = classNames('viking-menu', className, {\n      'menu-opened': menuOpen\n    });\n    const childrenComponent = React.Children.map(children, (child, index) => {\n      const childElement = child;\n\n      if (childElement.type.displayName == 'MenuItem') {\n        return childElement;\n      } else {\n        console.error('Warnning: is not a MenuItem');\n      }\n    });\n    return /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: subMenuClasses,\n      children: childrenComponent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: classes,\n    onClick: handleClick,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"submenu-title\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), renderChildren()]\n  }, index, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SubMenu, \"x1TaZ28lgzIN2gzr/6Tm16IvBCY=\");\n\n_c = SubMenu;\nSubMenu.displayName = 'SubMenu';\nexport default SubMenu;\n\nvar _c;\n\n$RefreshReg$(_c, \"SubMenu\");","map":{"version":3,"sources":["/Users/fhj/Desktop/github-pr/ms-/xilan/src/components/Menu/subMenu.tsx"],"names":["React","useContext","useState","classNames","MenuContext","SubMenu","props","index","title","className","children","menuOpen","setOpen","context","classes","handleClick","e","preventDefault","renderChildren","subMenuClasses","childrenComponent","Children","map","child","childElement","type","displayName","console","error"],"mappings":";;;AAAA,OAAOA,KAAP,IAAwCC,UAAxC,EAAoDC,QAApD,QAAmE,OAAnE;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,WAAT,QAA4B,QAA5B;;;AASA,MAAMC,OAAgC,GAAIC,KAAD,IAAW;AAAA;;AAChD,QAAM;AAACC,IAAAA,KAAD;AAAOC,IAAAA,KAAP;AAAaC,IAAAA,SAAb;AAAuBC,IAAAA;AAAvB,MAAmCJ,KAAzC,CADgD,CAEhD;;AACA,QAAM,CAACK,QAAD,EAAWC,OAAX,IAAsBV,QAAQ,CAAC,KAAD,CAApC;AACA,QAAMW,OAAO,GAAGZ,UAAU,CAACG,WAAD,CAA1B;AACA,QAAMU,OAAO,GAAGX,UAAU,CAAC,wBAAD,EAA2BM,SAA3B,EAAqC;AAC3D,iBAAcI,OAAO,CAACN,KAAR,KAAkBA;AAD2B,GAArC,CAA1B,CALgD,CAQhD;;AACA,QAAOQ,WAAW,GAAIC,CAAD,IAA0B;AAC3CA,IAAAA,CAAC,CAACC,cAAF;AACAL,IAAAA,OAAO,CAAC,CAACD,QAAF,CAAP;AACH,GAHD,CATgD,CAahD;;;AACA,QAAMO,cAAc,GAAG,MAAM;AACzB,UAAMC,cAAc,GAAGhB,UAAU,CAAC,aAAD,EAAiBM,SAAjB,EAA4B;AACzD,qBAAgBE;AADyC,KAA5B,CAAjC;AAGA,UAAMS,iBAAiB,GAAGpB,KAAK,CAACqB,QAAN,CAAeC,GAAf,CAAmBZ,QAAnB,EAA6B,CAACa,KAAD,EAAQhB,KAAR,KAAkB;AACrE,YAAMiB,YAAY,GAAGD,KAArB;;AACA,UAAGC,YAAY,CAACC,IAAb,CAAkBC,WAAlB,IAAiC,UAApC,EAA+C;AAC3C,eAAOF,YAAP;AACH,OAFD,MAEK;AACDG,QAAAA,OAAO,CAACC,KAAR,CAAc,6BAAd;AACH;AACJ,KAPyB,CAA1B;AAQA,wBACI;AAAK,MAAA,SAAS,EAAET,cAAhB;AAAA,gBACKC;AADL;AAAA;AAAA;AAAA;AAAA,YADJ;AAKH,GAjBD;;AAkBA,sBACI;AAAgB,IAAA,SAAS,EAAEN,OAA3B;AAAoC,IAAA,OAAO,EAAEC,WAA7C;AAAA,4BAGI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA,gBACKP;AADL;AAAA;AAAA;AAAA;AAAA,YAHJ,EAOKU,cAAc,EAPnB;AAAA,KAASX,KAAT;AAAA;AAAA;AAAA;AAAA,UADJ;AAWH,CA3CD;;GAAMF,O;;KAAAA,O;AA6CNA,OAAO,CAACqB,WAAR,GAAsB,SAAtB;AACA,eAAerB,OAAf","sourcesContent":["import React,{FunctionComponentElement, useContext, useState} from \"react\";\nimport classNames from \"classnames\";\nimport { MenuContext } from \"./menu\";\nimport { MenuItemProps } from \"./menuItem\";\n\nexport interface SubMenuProps{\n    index ?: number,\n    title : string,\n    className ?: string\n}\n\nconst SubMenu : React.FC<SubMenuProps> = (props) => {\n    const {index,title,className,children} = props;\n    //useState\n    const [menuOpen, setOpen] = useState(false);\n    const context = useContext(MenuContext);\n    const classes = classNames('menu-item submenu-item', className,{\n        'is-active' : context.index === index\n    })\n    //handleClick\n    const  handleClick = (e : React.MouseEvent) => {\n        e.preventDefault();\n        setOpen(!menuOpen);\n    }\n    // 展开函数\n    const renderChildren = () => {\n        const subMenuClasses = classNames('viking-menu' , className, {\n            'menu-opened' : menuOpen\n        })\n        const childrenComponent = React.Children.map(children, (child, index) => {\n            const childElement = child as FunctionComponentElement<MenuItemProps>;\n            if(childElement.type.displayName == 'MenuItem'){\n                return childElement\n            }else{\n                console.error('Warnning: is not a MenuItem');\n            }\n        })\n        return (\n            <ul  className={subMenuClasses}>\n                {childrenComponent}\n            </ul>\n        )\n    }\n    return (\n        <li key={index} className={classes} onClick={handleClick}>\n            {/* 两部分组成 */}\n            {/* 第一部分title  */}\n            <div className=\"submenu-title\">\n                {title}\n            </div>\n            {/* 第二部分是展开的内容 */}\n            {renderChildren()}\n        </li>\n    )\n}\n\nSubMenu.displayName = 'SubMenu';\nexport default SubMenu;"]},"metadata":{},"sourceType":"module"}